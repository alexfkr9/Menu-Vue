<!DOCTYPE html>
<html>
  <head>
    <title>Menu</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./style.css" />
    
  </head>
  <body>    
    <div id="app">      
      <div class="container-fluid">
            <div class="head_menu">
            <h4 class="head-color">Добро пожаловать</h4>
            <h4 class="head-color"> в наше кафе </h4>
            <h5>Желаете что нибудь заказать ?</h5>      
            </div>    
        <div class="row">  
            <div class="col-lg-2 my-auto">
              <h2 class="logo head-color">Меню:</h2>  
            </div>
            <div class="col-lg-6">
              <nav class="navbar">          
                <button v-on:click="filter('all')" class="button btn btn-warning blue" v-bind:class="{active: currentTag == 'all'}">Все</button>
                <button v-on:click="filter('first')" class="button btn btn-warning" v-bind:class="{active: currentTag == 'first'}">Первое</button>
                <button v-on:click="filter('second')" class="button btn btn-warning" v-bind:class="{active: currentTag == 'second'}">Второе</button>
                <button v-on:click="filter('salads')" class="button btn btn-warning" v-bind:class="{active: currentTag == 'salads'}">Салаты</button>
                <button v-on:click="filter('drink')" class="button btn btn-warning" v-bind:class="{active: currentTag == 'drink'}">Напитки</button>    
              </nav>
            </div>
        </div>        
      </div>            
      <div class="row container-fluid mx-auto">
          <ul>            
                <image-item
                  v-for="item in filteredItems"
                  v-bind:image="item"
                  v-bind:key="item.id"
                ></image-item>              
          </ul>        
      </div>
      <div class="container">
          <button class="button btn btn-warning float-right mb-2">Заказать</button>
          <button class="button btn btn-warning mb-2">Отменить</button>
      </div>      
    </div>
   
    <script>     

      Vue.component('image-item', {
        props: ['image'],
        data: function(){
          return {            
            count:0            
          }
        },
        template: ' <li class="col-sm-6 col-md-4 col-lg-3 col-xl-2 d-flex justify-content-center">\
        <div class="ticket">\
        <img v-on:click="increase" class="img" v-bind:src="image.url"/><br>\
        <h5 class="head-color"> {{ image.dish }} </h5>\
        <p>Цена: {{ image.price }} грн / {{ image.weight }}{{ image.unit }}</p>\
        <p>Кол-во: <input v-model="count" type="number" min="0" placeholder="0"/> шт</p>\
        <p> Стоимость: {{ image.price * count || 0 }} грн </p>\
        </div>\
        </li>\ ',
        methods:{
          increase:function(){
            this.count++            
          }
        } 
      })
      
      var app = new Vue({        
        el: "#app",        
        data: {              
          currentTag: 'all',                   
          items: [
  { id: 1, message : "", tags: ['all', 'first'], dish : "Борщ", price : 15, unit : "п", url : "assets/img/borsh.jpg", weight : 1 },
  { id: 2, tags: ['all', 'first'], dish : "Суп", price : 17, unit : "п", url : "assets/img/soup.jpg", weight : 1},
  { id: 3, tags: ['all', 'second'], dish : "Мясо", price : 20, unit : "г", url : "assets/img/steak.jpg", weight : 100},
  { id: 4, tags: ['all', 'second'], dish : "Рыба", price : 18, unit : "г", url : "assets/img/fish.jpg", weight : 100},
  { id: 5, tags: ['all', 'second'], dish : "Картошка", price : 8, unit : "г", url : "assets/img/potato.jpg", weight : 100},
  { id: 6, tags: ['all', 'salads'], dish : "Оливье", price : 14, unit : "г", url : "assets/img/oliv.jpg", weight : 100},
  { id: 7, tags: ['all', 'salads'], dish : "Селедка под шубой", price : 16, unit : "г", url : "assets/img/shuba.jpg", weight : 100},
  { id: 8, tags: ['all', 'salads'], dish : "Помидоры, огурцы", price : 10, unit : "г", url : "assets/img/tomato.jpg", weight : 100},
  { id: 9, tags: ['all', 'drink'], dish : "Сок", price : 14, unit : "п", url : "assets/img/juice.jpg", weight : 0.3},
  { id: 10, tags: ['all', 'drink'], dish : "Пиво", price : 20, unit : "п", url : "assets/img/beer.jpg", weight : 0.5},
  { id: 11, tags: ['all', 'drink'], dish : "Вино", price : 20, unit : "п", url : "assets/img/wine.jpg", weight : 0.1}
    ],         
        },       
        computed: {
          filteredItems: function() {
            var filter = this.currentTag;
            return this.items.filter(function(item) {
                return item.tags.indexOf(filter) !== -1;
            });
          }
        },
        methods: {          
          filter: function(tag) {
            this.currentTag = tag            
          }                        
        }
      })

    </script>
  </body>
</html>